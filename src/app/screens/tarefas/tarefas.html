<div class="flex flex-col gap-6">
  <app-titulo titulo="Tarefas" sub="Gerencie suas tarefas aqui."></app-titulo>
  <div>
    <div class="flex flex-col gap-2">
      <div class="flex gap-4 items-center mb-4">
      @if(!input){
        <span (click)="toggleInput(true)" class="py-2 px-2.5 rounded-2xl bg-purple-900">Adicionando Tarefa <mat-icon class="align-middle">
            task_alt
        </mat-icon> </span>

      } @else {
        <span class="py-2 px-2.5 rounded-2xl bg-purple-900">Adicionando Tarefa <mat-icon class="align-middle">
            task_alt
        </mat-icon> </span>
        <input type="text"
               placeholder="Título da tarefa"
               class="input flex-1"
               (keyup.enter)="add($event)"/>
        <button (click)="toggleInput(false)" class="btn btn-danger"><mat-icon>
            close
        </mat-icon>
        </button>
      }
      </div>
    @for(item of todos.items(); track item.id){
      <div class="task p-4 bg-black rounded-lg flex items-center gap-4">
      <span [class.line-through]="item.concluida" class= "flex-1">{{item.titulo}}</span>
        <span [class.bg-green-700]="item.concluida"
              [class.bg-yellow-700]="!item.concluida"
              class="px-4 py-1 rounded-full text-sm">
          {{item.concluida ? 'Concluída' : 'Pendente'}}
        </span>
        <div class="flex gap-2">
          <button  [class.bg-zinc-700]="item.concluida"
                   [class.bg-green-700]="!item.concluida"
                   class="btn" (click)="todos.concluirTarefa(item.id)"> <mat-icon fontSet="material-symbols-outlined">
            {{ item.concluida ? 'undo' : 'check_circle' }}
          </mat-icon>
          </button>
          <button class="btn btn-danger" (click)="todos.removerTarefa(item.id)"><mat-icon>
            delete
          </mat-icon></button>
        </div>


      </div>

    }

</div>
